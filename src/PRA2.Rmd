---
title: 'Práctica 2 - Tipología y ciclo de vida de los datos'
author: "Autor: Gabriel Patricio Bonilla Sanchez"
date: Junio - 2021
geometry: "left=2.5cm,right=2.5cm,top=1.5cm,bottom=2cm"
lang: es-ES
output:
  html_document:
    highlight: default
    number_sections: yes
    theme: cerulean
    toc: yes
    toc_depth: 2
    includes:
      in_header: 75.584-PEC-header.html
  word_document: default
  pdf_document:
    latex_engine: xelatex 
    toc: yes
    number_sections: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introducción {.unlisted .unnumbered}

# Descripción del dataset
En este apartado resummiremos los pasos necesarios para la preparación del dataset final realizado en la PRA 1:

El dataset seleccionado ha sido obtenido desde el siguiente enlace: https://www.kaggle.com/aitzaz/stack-overflow-developer-survey-2020. Este juego de datos contiene los resultados de la Encuesta Anual a Desarrolladores StackOverflow 2020. Se obtuvo alrededor de 65000 participaciones de programadores y desarrolladores de 180 paises. La encuesta aborda varios ámbitos, tanto a nivel de experiencia, formación académica y skills (habilidades técnicas) en diferentes tecnologías que el encuestado ha ido adquiriendo a lo largo del tiempo.

Esta encuesta anual ha recolectado datos sobre 61 variables que se pasan a detallar a continuación:

* *Respondent:* número de identificación del encuestado aleatorizado (no en orden de tiempo de respuesta de la encuesta)
* *MainBranch:* ¿Cuál de las siguientes opciones te describe mejor hoy? 
* *Hobbyist:* ¿Desarrollas como pasatiempo?
* *Age:* ¿Cuál es su edad (en años)?
* *Age1stCode:* ¿A qué edad escribiste tu primera línea de código o programa? 
* *CompFreq:* ¿Esa compensación es semanal, mensual o anual?
* *CompTotal:* ¿Cuál es su compensación total actual (salario, bonificaciones y beneficios, antes de impuestos y deducciones), en "CurrencySymbol"?. Número entero. 
* *ConvertedComp:* Salario anual en USD, utilizando el tipo de cambio del 19 de febrero de 2020, asumiendo 12 meses laborales y 50 semanas laborales".
* *Country:* País dónde vive.
* *CurrencyDesc:* ¿Qué moneda utiliza a diario? Descripción.
* *CurrencySymbol:* ¿Qué moneda usa a diario? Forma abreviada.
* *DatabaseDesireNextYear:* ¿En qué entornos de base de datos desea trabajar durante el próximo año? 
* *DatabaseWorkedWith:* ¿En qué entornos de base de datos ha realizado un trabajo de desarrollo extenso durante el año pasado? 
* *DevType:* ¿Cuál de los siguientes lo describe? 
* *EdLevel:* ¿Cuál de las siguientes opciones describe mejor el nivel más alto de educación formal que ha completado?
* *Employment:* ¿cuál de las siguientes opciones describe mejor su situación laboral actual?
* *Ethnicity:* ¿Cuál de los siguientes grupos étnicos lo describe? 
* *Gender:* ¿Cuál de las siguientes opciones de sexo lo describe? 
* *JobFactors:* Para el caso de decidiendo entre dos ofertas de trabajo con la misma compensación, beneficios y ubicación. ¿Qué factores son los más importantes para usted?
* *JobSat:* ¿Qué tan satisfecho está con su trabajo actual? 
* *JobSeek:* ¿Cuál de las siguientes opciones describe mejor su estado actual de búsqueda de empleo?
* *LanguageDesireNextYear:* "¿En qué lenguajes de programación, scripting y marcado desea trabajar durante el próximo año?.
* *LanguageWorkedWith:* ¿En qué lenguajes de programación, scripting y marcado ha realizado un trabajo de desarrollo extenso durante el año pasado?.
* *MiscTechDesireNextYear:* ¿En qué otros frameworks, bibliotecas y herramientas desea trabajar durante el próximo año?.
* *MiscTechWorkedWith:* ¿En qué otros frameworks, bibliotecas y herramientas ha realizado un trabajo de desarrollo extenso durante el año pasado?.
* *NEWCollabToolsDesireNextYear:* ¿En qué herramientas de colaboración desea trabajar durante el próximo año?
* *NEWCollabToolsWorkedWith:* ¿En qué herramientas de colaboración ha realizado un trabajo de desarrollo extenso durante el año pasado?
* *NEWDevOps:* ¿Su empresa tiene una persona dedicada a DevOps?
* *NEWDevOpsImpt:* ¿Qué importancia tiene la práctica de DevOps para escalar el desarrollo de software?
* *NEWEdImpt:* ¿Qué importancia tiene una educación formal, como un título universitario en ciencias de la computación, para su carrera?
* *NEWJobHunt:* En general, ¿Cuáles son las motivaciones que lo impulsan a buscar un nuevo trabajo?.
* *NEWJobHuntResearch:* Cuando busca trabajo, ¿cómo puede obtener más información sobre una empresa?
* *NEWLearn:* ¿Con qué frecuencia aprende un nuevo lenguaje o marco?
* *NEWOffTopic:* ¿Crees que Stack Overflow debería relajar las restricciones sobre lo que se considera "fuera de tema"?
* *NEWOnboardGood:* ¿Cree que su empresa tiene un buen proceso de incorporación? (Por incorporación, nos referimos al proceso estructurado para que se adapte a su nuevo puesto en una empresa)
* *NEWOtherComms:* ¿Es miembro de alguna otra comunidad de desarrolladores en línea?
* *NEWOvertime:* ¿Con qué frecuencia trabaja horas extraordinarias o más allá de las expectativas formales de su trabajo?
* *NEWPurchaseResearch:* Al comprar una nueva herramienta o software, ¿cómo descubre e investiga las soluciones disponibles?
* *NEWPurpleLink:* Busca una solución de codificación en línea y el primer enlace de resultado es violeta porque ya lo visitó. ¿Cómo se siente?
* *NEWSOSites:* ¿Cuál de los siguientes sitios de Stack Overflow ha visitado?
* *NEWStuck:* ¿Qué hace cuando se queda atascado en un problema?
* *OpSys:* ¿Cuál es el sistema operativo principal en el que trabaja?
* *OrgSize:* Aproximadamente, ¿cuántas personas emplea la empresa u organización para la que trabaja actualmente?
* *PlatformDesireNextYear:* ¿En qué plataformas desea trabajar durante el próximo año?
* *PlatformWorkedWith:* ¿En qué plataformas ha realizado un trabajo de desarrollo extenso durante el año pasado?
* *PurchaseWhat:* ¿Qué nivel de influencia tiene usted, personalmente, sobre las compras de nueva tecnología en su organización?
* *Sexuality:* ¿Cuál de los siguientes lo describe a usted sobre su sexualidad?.
* *SOAccount:* ¿Tiene una cuenta de Stack Overflow?
* *SOComm:* ¿Te consideras miembro de la comunidad de Stack Overflow?
* *SOPartFreq:* ¿Con qué frecuencia diría que participa en preguntas y respuestas en Stack Overflow? Por participar nos referimos a preguntar, responder, votar o comentar preguntas.
* *SOVisitFreq:* ¿Con qué frecuencia visita Stack Overflow?
* *SurveyEase:* ¿Qué tan fácil o difícil fue completar esta encuesta?
* *SurveyLength:* ¿Qué opina de la duración de la encuesta este año?
* *Trans:* ¿Eres transgénero?
* *UndergradMajor:* ¿Cuál fue su campo de estudio principal?
* *WebframeDesireNextYear:* ¿En qué frameworks web desea trabajar durante el próximo año?
* *WebframeWorkedWith:* ¿En qué frameworks web ha realizado un extenso trabajo de desarrollo durante el año pasado?
* *WelcomeChange:* En comparación con el año pasado, ¿qué tan bienvenido se siente en Stack Overflow?
* *WorkWeekHrs:* En promedio, ¿cuántas horas por semana trabaja?
* *YearsCode:* Incluyendo cualquier educación, ¿cuántos años ha estado programando en total?
* *YearsCodePro:* NO incluye educación, ¿cuántos años ha programado profesionalmente (como parte de su trabajo)?

Las capacidades análiticas del dataset, que se tomaron en cuenta para elegirlo son:

* Cuenta con una cantidad suficientes variables, tanto numéricas, categóricas. Las variables categóricas también pueden volverse a convertir a variables numéricas. Esto permitiría aplicar algoritmos supervisados y no supervisados, donde se puede clasificar a los programadores o desarrolladores según la experticia actual.

* También permite agregar nuevas variables númericas que representen el número de tecnologías que domina cada encuestado.

* Al incluir las tecnologías usadas por desarrolladores en: base de datos, lenguages de programación, frameworks y demás herramientas, permite tener una gran cantidad de preferencias de las que se puede extraer reglas de asociación interesantes sobre las tecnologías más usadas entre los distintos tipos de desarrolladores.

* Cuenta con variables que pueden discretizarse y otras donde se puede aplicar tareas de limpieza y preparación previa antes de aplicar los distintos métodos.

Sin embargo, para efectos del análisis, del dataset original, se excluirán las siguientes variables:

1. Respondent 
2. MainBranch 
3. Hobbyist
4. Age1stCode
5. CompFreq
6. CompTotal (+)
7. CurrencyDesc
8. CurrencySymbol
9. DatabaseDesireNextYear
10. Ethnicity
11. JobFactors
12. JobSat
13. JobSeek
14. LanguageDesireNextYear
15. MiscTechDesireNextYear
16. NEWCollabToolsDesireNextYear
17. NEWDevOps
18. NEWDevOpsImpt
19. NEWEdImpt
20. NEWJobHunt
21. NEWJobHuntResearch
22. NEWLearn
23. NEWOffTopic
24. NEWOnboardGood
25. NEWOtherComms
26. NEWOvertime
27. NEWPurchaseResearch
28. NEWPurpleLink
29. NEWSOSites
30. NEWStuck
31. PlatformDesireNextYear
32. PurchaseWhat
33. Sexuality
34. SOComm
35. SOVisitFreq (+)
36. SurveyEase
37. SurveyLength
38. Trans
39. UndergradMajor (+)
40. WebframeDesireNextYear
41. WelcomeChange
42. YearsCodePro (+)

Muchos de estos campos no son relevantes para el alcance de la Práctica #1 y #2; otros reflejan deseos de los programadores respecto a tecnologías, para lo cual solo tomaremos los datos que reflejan la experiencia actual del programador.

Los campos marcados con (+) se los ha excluído, ya que se existe otra variable similar, que en caso de mantenerse significaría agregar información redundante al dataset.

Con la finalidad de disminuir el número de observaciones o individuos, vamos a limitar el estudio de este dataset a mi país natal, *Ecuador*. Con esto no incluiremos la variable **Country**.

En conclusión, vamos a trabajar a con 18 variables propias del dataset original, de las cuales 4 son númericas (Age, ConvertedComp, WorkWeekHrs y YearsCode). También tenemos variables no numéricas, las cuales vamos a realizar un análisis más detallado posteriormente, generando variables númericas a partir de ellas, las cuales son: 

> * DatabaseWorkedWith
> * LanguageWorkedWith
> * MiscTechWorkedWith
> * NEWCollabToolsWorkedWith
> * PlatformWorkedWith
> * WebframeWorkedWith

Estas nuevas variables numéricas a generarse posteriormente servirán principalmente cuando se intente aplicar algoritmos no supervisados, como K-Means, y también serán usadas para crear un nuevo dataset sobre el que se aplicará el algoritmo SVD o PCA. 

Este nuevo dataset de variables numéricas, ayudará a dar respuesta a las siguientes preguntas:

> ¿Hay relación directa entre el número de tecnologías que domina el programador y su sueldo anual, en Ecuador?
> ¿Hay relación directa entre el número de años de experiencia que tiene el programador y el número de tecnologías que domina, en Ecuador?
> ¿En Ecuador, influye el número de años de experiencia del programador con el número de tecnologías que domina o conoce?
> ¿Qué relación hay entre el número de años de experiencia del programador y el sueldo que percibe anualmente en el mercado ecuatoriano?
> ¿Como afecta el número de horas trabajadas a la semana sobre el sueldo que percibe anualmente el programador ecuatoriano?
> ¿Hay relación directa entre el número de años de experiencia que tiene el programador y la edad del mismo en Ecuador?


# Integración y selección de los datos de interés a analizar

```{r echo=TRUE, message=FALSE, warning=FALSE}
# Cargamos los paquetes R que vamos a usar
library(ggplot2)
library(dplyr)
library(car)

# Cargamos el fichero de datos_original
datos_original <- read.csv('survey_results_public.csv', sep=",", encoding = "UTF-8")
filas_original=dim(datos_original)[1]

```


# Limpieza de los datos

# Análisis de los datos

# Representación de los resultados a partir de tablas y gráficas

# Resolución del problema

# Código