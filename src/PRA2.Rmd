---
title: 'Práctica 2 - Tipología y ciclo de vida de los datos'
author: "Autor: Gabriel Patricio Bonilla Sanchez"
date: Junio - 2021
geometry: "left=2.5cm,right=2.5cm,top=1.5cm,bottom=2cm"
lang: es-ES
output:
  html_document:
    highlight: default
    number_sections: yes
    theme: cerulean
    toc: yes
    toc_depth: 2
    includes:
      in_header: 75.584-PEC-header.html
  word_document: default
  pdf_document:
    latex_engine: xelatex 
    toc: yes
    number_sections: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introducción {.unlisted .unnumbered}

En esta práctica se elabora un caso práctico orientado a aprender a identificar los datos relevantes para un proyecto analítico y usar las herramientas de integración, limpieza, validación y análisis de las mismas. Para hacer esta práctica tendréis que trabajar en grupos de 2 personas. Tendréis que entregar un solo archivo con el enlace Github (https://github.com) donde se encuentren las soluciones incluyendo los nombres de los componentes del equipo. Podéis utilizar la Wiki de Github para describir vuestro equipo y los diferentes archivos que corresponden a vuestra entrega. Cada miembro del equipo tendrá que contribuir con su usuario Github. Aunque no se trata del mismo enunciado, los siguientes ejemplos de ediciones anteriores os pueden servir como guía:

* Ejemplo: https://github.com/Bengis/nba-gap-cleaning
* Ejemplo complejo (archivo adjunto).


## Competencias {.unlisted .unnumbered}
En esta práctica se desarrollan las siguientes competencias del Máster de Data Science:
* Capacidad de analizar un problema en el nivel de abstracción adecuado a cada situación y aplicar las habilidades y conocimientos adquiridos para abordarlo y resolverlo.
* Capacidad para aplicar las técnicas específicas de tratamiento de datos (integración, ransformación, limpieza y validación) para su posterior análisis.


## Objetivos {.unlisted .unnumbered}
Los objetivos concretos de esta práctica son:
* Aprender a aplicar los conocimientos adquiridos y su capacidad de resolución de problemas en entornos nuevos o poco conocidos dentro de contextos más amplios o multidisciplinares.
* Saber identificar los datos relevantes y los tratamientos necesarios (integración, limpieza y validación) para llevar a cabo un proyecto analítico.
* Aprender a analizar los datos adecuadamente para abordar la información contenida en los datos.
* Identificar la mejor representación de los resultados para aportar conclusiones sobre el problema planteado en el proceso analítico.
* Actuar con los principios éticos y legales relacionados con la manipulación de datos en función del ámbito de aplicación.
* Desarrollar las habilidades de aprendizaje que les permitan continuar estudiando de un modo que tendrá que ser en gran medida autodirigido o autónomo.
* Desarrollar la capacidad de búsqueda, gestión y uso de información y recursos en el ámbito de la ciencia de datos.

# Descripción del dataset
En este apartado resummiremos los pasos necesarios para la preparación del dataset final realizado en la PRA 1:

El dataset seleccionado ha sido obtenido desde el siguiente enlace: https://www.kaggle.com/aitzaz/stack-overflow-developer-survey-2020. Este juego de datos contiene los resultados de la Encuesta Anual a Desarrolladores StackOverflow 2020. Se obtuvo alrededor de 65000 participaciones de programadores y desarrolladores de 180 paises. La encuesta aborda varios ámbitos, tanto a nivel de experiencia, formación académica y skills (habilidades técnicas) en diferentes tecnologías que el encuestado ha ido adquiriendo a lo largo del tiempo.

Esta encuesta anual ha recolectado datos sobre 61 variables que se pasan a detallar a continuación:

* *1) Respondent:* número de identificación del encuestado aleatorizado (no en orden de tiempo de respuesta de la encuesta)
* *2) MainBranch:* ¿Cuál de las siguientes opciones te describe mejor hoy? 
* *3) Hobbyist:* ¿Desarrollas como pasatiempo?
* *4) Age:* ¿Cuál es su edad (en años)?
* *5) Age1stCode:* ¿A qué edad escribiste tu primera línea de código o programa? 
* *6) CompFreq:* ¿Esa compensación es semanal, mensual o anual?
* *7) CompTotal:* ¿Cuál es su compensación total actual (salario, bonificaciones y beneficios, antes de impuestos y deducciones), en "CurrencySymbol"?. Número entero. 
* *8) ConvertedComp:* Salario anual en USD, utilizando el tipo de cambio del 19 de febrero de 2020, asumiendo 12 meses laborales y 50 semanas laborales".
* *9) Country:* País dónde vive.
* *10) CurrencyDesc:* ¿Qué moneda utiliza a diario? Descripción.
* *11) CurrencySymbol:* ¿Qué moneda usa a diario? Forma abreviada.
* *12) DatabaseDesireNextYear:* ¿En qué entornos de base de datos desea trabajar durante el próximo año? 
* *13) DatabaseWorkedWith:* ¿En qué entornos de base de datos ha realizado un trabajo de desarrollo extenso durante el año pasado? 
* *14) DevType:* ¿Cuál de los siguientes lo describe? 
* *15) EdLevel:* ¿Cuál de las siguientes opciones describe mejor el nivel más alto de educación formal que ha completado?
* *16) Employment:* ¿cuál de las siguientes opciones describe mejor su situación laboral actual?
* *17) Ethnicity:* ¿Cuál de los siguientes grupos étnicos lo describe? 
* *18) Gender:* ¿Cuál de las siguientes opciones de sexo lo describe? 
* *19) JobFactors:* Para el caso de decidiendo entre dos ofertas de trabajo con la misma compensación, beneficios y ubicación. ¿Qué factores son los más importantes para usted?
* *20) JobSat:* ¿Qué tan satisfecho está con su trabajo actual? 
* *21) JobSeek:* ¿Cuál de las siguientes opciones describe mejor su estado actual de búsqueda de empleo?
* *22) LanguageDesireNextYear:* "¿En qué lenguajes de programación, scripting y marcado desea trabajar durante el próximo año?.
* *23) LanguageWorkedWith:* ¿En qué lenguajes de programación, scripting y marcado ha realizado un trabajo de desarrollo extenso durante el año pasado?.
* *24) MiscTechDesireNextYear:* ¿En qué otros frameworks, bibliotecas y herramientas desea trabajar durante el próximo año?.
* *25) MiscTechWorkedWith:* ¿En qué otros frameworks, bibliotecas y herramientas ha realizado un trabajo de desarrollo extenso durante el año pasado?.
* *26) NEWCollabToolsDesireNextYear:* ¿En qué herramientas de colaboración desea trabajar durante el próximo año?
* *27) NEWCollabToolsWorkedWith:* ¿En qué herramientas de colaboración ha realizado un trabajo de desarrollo extenso durante el año pasado?
* *28) NEWDevOps:* ¿Su empresa tiene una persona dedicada a DevOps?
* *29) NEWDevOpsImpt:* ¿Qué importancia tiene la práctica de DevOps para escalar el desarrollo de software?
* *30) NEWEdImpt:* ¿Qué importancia tiene una educación formal, como un título universitario en ciencias de la computación, para su carrera?
* *31) NEWJobHunt:* En general, ¿Cuáles son las motivaciones que lo impulsan a buscar un nuevo trabajo?.
* *32) NEWJobHuntResearch:* Cuando busca trabajo, ¿cómo puede obtener más información sobre una empresa?
* *33) NEWLearn:* ¿Con qué frecuencia aprende un nuevo lenguaje o marco?
* *34) NEWOffTopic:* ¿Crees que Stack Overflow debería relajar las restricciones sobre lo que se considera "fuera de tema"?
* *35) NEWOnboardGood:* ¿Cree que su empresa tiene un buen proceso de incorporación? (Por incorporación, nos referimos al proceso estructurado para que se adapte a su nuevo puesto en una empresa)
* *36) NEWOtherComms:* ¿Es miembro de alguna otra comunidad de desarrolladores en línea?
* *37) NEWOvertime:* ¿Con qué frecuencia trabaja horas extraordinarias o más allá de las expectativas formales de su trabajo?
* *38) NEWPurchaseResearch:* Al comprar una nueva herramienta o software, ¿cómo descubre e investiga las soluciones disponibles?
* *39) NEWPurpleLink:* Busca una solución de codificación en línea y el primer enlace de resultado es violeta porque ya lo visitó. ¿Cómo se siente?
* *40) NEWSOSites:* ¿Cuál de los siguientes sitios de Stack Overflow ha visitado?
* *41) NEWStuck:* ¿Qué hace cuando se queda atascado en un problema?
* *42) OpSys:* ¿Cuál es el sistema operativo principal en el que trabaja?
* *43) OrgSize:* Aproximadamente, ¿cuántas personas emplea la empresa u organización para la que trabaja actualmente?
* *44) PlatformDesireNextYear:* ¿En qué plataformas desea trabajar durante el próximo año?
* *45) PlatformWorkedWith:* ¿En qué plataformas ha realizado un trabajo de desarrollo extenso durante el año pasado?
* *46) PurchaseWhat:* ¿Qué nivel de influencia tiene usted, personalmente, sobre las compras de nueva tecnología en su organización?
* *47) Sexuality:* ¿Cuál de los siguientes lo describe a usted sobre su sexualidad?.
* *48) SOAccount:* ¿Tiene una cuenta de Stack Overflow?
* *49) SOComm:* ¿Te consideras miembro de la comunidad de Stack Overflow?
* *50) SOPartFreq:* ¿Con qué frecuencia diría que participa en preguntas y respuestas en Stack Overflow? Por participar nos referimos a preguntar, responder, votar o comentar preguntas.
* *51) SOVisitFreq:* ¿Con qué frecuencia visita Stack Overflow?
* *52) SurveyEase:* ¿Qué tan fácil o difícil fue completar esta encuesta?
* *53) SurveyLength:* ¿Qué opina de la duración de la encuesta este año?
* *54) Trans:* ¿Eres transgénero?
* *55) UndergradMajor:* ¿Cuál fue su campo de estudio principal?
* *56) WebframeDesireNextYear:* ¿En qué frameworks web desea trabajar durante el próximo año?
* *57) WebframeWorkedWith:* ¿En qué frameworks web ha realizado un extenso trabajo de desarrollo durante el año pasado?
* *58) WelcomeChange:* En comparación con el año pasado, ¿qué tan bienvenido se siente en Stack Overflow?
* *59) WorkWeekHrs:* En promedio, ¿cuántas horas por semana trabaja?
* *60) YearsCode:* Incluyendo cualquier educación, ¿cuántos años ha estado programando en total?
* *61) YearsCodePro:* NO incluye educación, ¿cuántos años ha programado profesionalmente (como parte de su trabajo)?

Las capacidades análiticas del dataset, que se tomaron en cuenta para elegirlo son:

* Cuenta con una cantidad suficientes variables, tanto numéricas, categóricas. Las variables categóricas también pueden volverse a convertir a variables numéricas. Esto permitiría aplicar algoritmos supervisados y no supervisados, donde se puede clasificar a los programadores o desarrolladores según la experticia actual.

* También permite agregar nuevas variables númericas que representen el número de tecnologías que domina cada encuestado.

* Al incluir las tecnologías usadas por desarrolladores en: base de datos, lenguages de programación, frameworks y demás herramientas, permite tener una gran cantidad de preferencias de las que se puede extraer reglas de asociación interesantes sobre las tecnologías más usadas entre los distintos tipos de desarrolladores.

* Cuenta con variables que pueden discretizarse y otras donde se puede aplicar tareas de limpieza y preparación previa antes de aplicar los distintos métodos.

Sin embargo, para efectos del análisis, del dataset original, se excluirán las siguientes variables:

1. Age
2. ConvertedComp
3. Country
4. DatabaseWorkedWith
5. DevType
6. EdLevel
7. Employment
8. LanguageWorkedWith
9. MiscTechWorkedWith
10. NEWCollabToolsWorkedWith
11. NEWLearn
12. NEWOvertime
13. OpSys
14. PlatformWorkedWith
15. SOPartFreq
16. UndergradMajor
17. WebframeWorkedWith
18. WorkWeekHrs
19. YearsCodePro


Muchos de estos campos no son relevantes para el alcance de la Práctica #1 y #2; otros reflejan deseos de los programadores respecto a tecnologías, para lo cual solo tomaremos los datos que reflejan la experiencia actual del programador.

Vamos a trabajar preliminarmente con 19 variables propias del dataset original, de las cuales 4 son númericas (Age, ConvertedComp, WorkWeekHrs y YearsCodePro). También tenemos variables no numéricas, las cuales vamos a realizar un análisis más detallado posteriormente, generando variables númericas a partir de ellas, las cuales son: 

> * DatabaseWorkedWith
> * LanguageWorkedWith
> * MiscTechWorkedWith
> * NEWCollabToolsWorkedWith
> * PlatformWorkedWith
> * WebframeWorkedWith

Estas nuevas variables numéricas a generarse posteriormente servirán principalmente cuando se defina el número total de tecnologías conocidas y usadas por los encuestados. 

Este nuevo dataset de variables numéricas, ayudará a dar respuesta a las siguientes preguntas:

`r text_spec("REVISAR...", color = "red", font_size=14, bold = T)`

> ¿Hay relación directa entre el número de tecnologías que domina el programador y su sueldo anual, en Ecuador?
> ¿Hay relación directa entre el número de años de experiencia que tiene el programador y el número de tecnologías que domina, en Ecuador?
> ¿En Ecuador, influye el número de años de experiencia del programador con el número de tecnologías que domina o conoce?
> ¿Qué relación hay entre el número de años de experiencia del programador y el sueldo que percibe anualmente en el mercado ecuatoriano?
> ¿Como afecta el número de horas trabajadas a la semana sobre el sueldo que percibe anualmente el programador ecuatoriano?
> ¿Hay relación directa entre el número de años de experiencia que tiene el programador y la edad del mismo en Ecuador?


# Integración y selección de los datos de interés a analizar

```{r echo=TRUE, message=FALSE, warning=FALSE}
# Cargamos los paquetes R que vamos a usar
# library(ggplot2)
# library(dplyr)
# library(car)

# Cargamos el fichero de datos_original
data_devs <- read.csv('../data/survey_results_public.csv', sep=",", encoding = "UTF-8")
rows_devs=dim(data_devs)[1]

```


# Limpieza de los datos

# Análisis de los datos

# Representación de los resultados a partir de tablas y gráficas

# Resolución del problema

# Código